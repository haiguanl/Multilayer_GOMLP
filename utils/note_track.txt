GOMLP Post Proposal Notes 

06/20-21/22
- Repeat Surrogate model result: 
  Code copied to surrogate_model.py
  ! Get a simple doc for surrogate_model.py (include i/o)

06/27 
  # surrogate model indentation fix
	surrogate_model_new.py

  Try run surrogate (based on Vinay's doc)

06/29
*** Run surrogate model: 
Doc:
- How to run the code:
File needed:
pins_BeagleBone_RevC_human.csv [pin config for all nets and layers]
[optional] colormap.pkl 

Two modes:
- Run single testcase: SurrogateRunner.run(color_map, pin_config_file, layer_name, net_names, surrogate_model,-1)
- Run group of testcases:
	a. generate list of index for testcases from combination.csv, output: list of indexes
	b. generate testcases from the list of indexes of testcases
	test_cases = generate_test_cases_from_csv(<combination_csv_File>,<list_from_step1>) 
	Example: testcase_ids = [i for i in range(36)] test_cases = generate_test_cases_from_csv('output.csv',testcase_ids) 
		 output: list of testcases with net names
	c. Execute testcases with surrogate model
	group_test_runner(<surrogate_model>,<list_from_step2>)
	results = group_test_runner(model,test_cases)
 	save_dict(results,'MLP')


07/05
Code path: 

07/07
NOTE!
1. Code GOMLP: MLGO_2_with_plots.py
	- comment plot (note with 07/07/22-debug)
	- comment save model converged_model: (note with 07/07/22-debug)
	- change pop number at:     self.sol_per_pop = 2 ~line 289
	- change num of generations at:  self.num_of_generations = 2 ~line 289

if concurrent has consistent issue: can remove it 



08/30 (Resume after intern)
1. Run GOMLP (based on 07/07/22)
Note: 
	- Plot loss of different term: (MLGO_2_with_plots.py:# Note: plot loss ter)
Status: 
	- Run normally, nxt is to run for surrogate model exp 

2. Run surrogate:
Status:
	- Run, pending results deep dive


**************************************************************************************
 
09/02 
*** Meet w\ Kara ***

09/07-09/08
*** Resume run surrogate model: 
1. Get code running (surrogate_model_new.py) 
	- Dir: /Users/liaohaiguang/Desktop/DARPA IDEA/1.Project/GOMLP_PostProposal
	- Running: MLP, SVC !, Tree ! (to be coded)
2. Task: 
	- Weaker surrogate (got MLP own results)
	- Stronger problems !
	- Other surrogate  ! 


09/13-09/16
*** Resume run surrogate & Larger problems:
1. Get code running (surrogate_model_new.py) 
	- Dir: /Users/liaohaiguang/Desktop/DARPA IDEA/1.Project/GOMLP_PostProposal
	- Running: MLP, SVC, Tree ! (to be coded)
2. Task: 
	- Weaker surrogate (c, need to study its correlation with GOMLP results on stronger problems)
	- Stronger problems (c, need to generate more problems 20-50 nets)
	- Other surrogate  
*******************************

* Stronger problems:
Code: generate_testcases.py
colormap came from running GOMLP code (generated automatically)


Small problems: output_6plus.csv
50 nets problems: output_50nets.csv (currently all 1) 

* Run GOMLP for stronger problem:
under: GOMLP_PostProposal/colab-book
Gen colormap (slow in gen)
plot only when score is 1 


* Note:
1. New pin file: pins_BeagleBone_RevC_human_singleLayer.csv
2. Simple alphabet net naming issue (original pin file actually named with A,B,C,...)



- Github check in (with simple notes)  (v, make sure run & doc right) v

*******************************
09/19-20:
*** Exp of 50netsChoose 20nets (50 problems)
Results file: "gomlp_results_50nets.csv"
gomlp parameters: num_of_generations: 5, sol_per_pop: 4 

1. Surrogate-GOMLP correlation (weaker surrogate, stronger problems)
	- Generate more nets problems (20/50 nets case) v
	- Run GOMLP  v
	- Run Surrogate, check correlation  v



09/22:


*** Other surrogate (tree intersection?)
1. Implemented the tree model (when call surrogate_model_new.py, set the tree model button in group_test_runner(...,tree_model)



IDEA:

Note: 
1. GOMLP now generate plots as long as 
2. Multi GOMLP pairwise operation by clusters not by single nets (20C2: 190)


To Do:
-. Start coding the real multiGOMLP

-. Plot some cases of "50netsChoose 20nets" and analyze (v)
-. Correlation study surrogate-gomlp (c, parametric study)
-. Fix index of GOMLP (-1, P) 

-. Name plots generated by gomlp with problem index 
-. Take care previous bug/note/comment-out








